# 需求文档

## 项目介绍

这是一个基于网页的关键词分析工具，用于处理包含关键词数据的CSV文件。该工具通过添加翻译、计算指标和搜索结果链接来自动增强数据。初期设计为本地使用，后续可能部署到服务器。

## 需求列表

### 需求 1

**用户故事：** 作为关键词分析师，我希望能够上传包含关键词数据的CSV文件，以便自动处理和增强数据。

#### 验收标准

1. 当用户访问网页工具时，系统应显示中文的文件上传界面
2. 当用户选择CSV文件时，系统应验证文件格式正确（包含Keyword、Volume、Keyword Difficulty、CPC (USD)列）
3. 当CSV文件格式无效时，系统应显示中文错误消息说明所需格式
4. 当上传有效的CSV文件时，系统应处理文件并准备进行数据增强

### 需求 2

**用户故事：** 作为关键词分析师，我希望能够配置我的DeepSeek API密钥，以便系统可以使用AI翻译关键词。

#### 验收标准

1. 当用户访问工具时，系统应提供中文的API密钥配置输入框
2. 当用户输入API密钥时，系统应在会话期间安全存储
3. 当未提供API密钥时，系统应显示中文警告提示翻译功能无法使用
4. 当使用无效API密钥时，系统应显示相应的中文错误消息

### 需求 3

**用户故事：** 作为关键词分析师，我希望关键词能够自动翻译成中文，以便我能理解任何语言的内容。

#### 验收标准

1. 当处理CSV文件时，系统应在"Keyword"和"Volume"列之间插入"Translation"列
2. 当翻译关键词时，系统应使用DeepSeek API将任何语言翻译成中文
3. 当关键词已经是中文时，系统应保持原文
4. 当某个关键词翻译失败时，系统应标记为"翻译失败"并继续处理其他行

### 需求 4

**用户故事：** 作为关键词分析师，我希望有一个计算出的Kdroi指标，以便高效评估关键词价值。

#### 验收标准

1. 当处理CSV文件时，系统应在"CPC (USD)"列后插入"Kdroi"列
2. 当计算Kdroi时，系统应使用公式：(Volume × CPC) ÷ Keyword Difficulty
3. 当显示Kdroi值时，系统应将结果保留2位小数
4. 当任何必需值缺失或为零时，系统应为该行显示"N/A"

### 需求 5

**用户故事：** 作为关键词分析师，我希望有直接链接到Google搜索结果，以便快速分析每个关键词的SERP。

#### 验收标准

1. 当处理CSV文件时，系统应在"Kdroi"列后插入"SERP"列
2. 当生成SERP链接时，系统应使用https://www.google.com/ncr创建URL并进行适当的URL编码
3. 当显示SERP链接时，系统应将其格式化为可点击的超链接
4. 当用户点击SERP链接时，应在新浏览器标签页中打开

### 需求 6

**用户故事：** 作为关键词分析师，我希望有直接链接到Google Trends，以便分析关键词随时间的趋势。

#### 验收标准

1. 当处理CSV文件时，系统应在"SERP"列后插入"Google Trends"列
2. 当生成Trends链接时，系统应使用https://trends.google.com/trends/explore?hl=zh-CN创建URL并进行适当的URL编码
3. 当显示Trends链接时，系统应将其格式化为可点击的超链接
4. 当用户点击Trends链接时，应在新浏览器标签页中打开

### 需求 7

**用户故事：** 作为关键词分析师，我希望能够下载处理后的CSV文件，以便在其他工具中使用增强后的数据。

#### 验收标准

1. 当处理完成时，系统应提供中文的下载按钮用于下载增强后的CSV
2. 当用户点击下载时，系统应生成包含所有原始列和新列的CSV文件
3. 当下载时，系统应保持所有数据格式并确保文件能在Excel中正确打开
4. 当文件下载时，应有描述性的文件名表明已被处理

### 需求 8

**用户故事：** 作为关键词分析师，我希望工具能在本地运行而不依赖互联网（除了API调用），以便可靠使用。

#### 验收标准

1. 当运行工具时，系统应作为独立的本地网页应用程序工作
2. 当处理文件时，系统应仅在DeepSeek API调用时需要互联网访问
3. 当API不可用时，系统应仍能处理其他列并指示翻译失败
4. 当本地运行时，系统应不需要复杂的服务器设置或数据库安装

### 需求 9

**用户故事：** 作为中文用户，我希望工具界面完全是中文的，以便更好地使用工具。

#### 验收标准

1. 当显示用户界面时，系统应使用中文标签、按钮和提示信息
2. 当显示错误消息时，系统应使用中文说明
3. 当显示处理状态时，系统应使用中文进度提示
4. 当显示帮助信息时，系统应提供中文说明